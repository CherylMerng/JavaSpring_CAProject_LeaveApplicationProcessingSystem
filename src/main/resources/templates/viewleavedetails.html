<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Submission</title>

    <link th:href="@{/css/status.css}" rel="stylesheet" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<body>
    <div class="container my-2 center">
        <h6>My Staff ID </td>
            <td><span sec:authentication="name">Username</span>
        </h6>            <h6>My Full Name </td>
            <td><span th:text=${fullName}></span>
        </h6>
        <h3>Leave Details</h3>
        <table border="1" th:object="${leaveApplication}">
            <tr>
                <td>Staff ID</td>
                <td th:object="${leaveApplication.user}">
                    <p th:text="*{username}"></p>
                </td>
            </tr>
            <tr>
                <td>Staff Full Name</td>
                <td th:object="${leaveApplication.user}">
                    <p th:text="*{fullName}"></p>
                </td>
            </tr>
            <tr>
                <td>Leave Application ID</td>
                <td th:text="*{id}"> </td>
            </tr>
            <tr>
                <td>Start Date (yyyy-mm-dd))</td>
                <td th:text="*{startDate}"> </td>
            </tr>
            <tr>
                <td>End Date (yyyy-mm-dd))</td>
                <td th:text="*{endDate}"> </td>
            </tr>
            <tr>
                <td> Time of the day (if applicable) </td>
                <td th:text="*{halfdayIndicator != null ? halfdayIndicator : '-'}"> </td>
            </tr>
            </tr>
            <tr>
                <td>Leave Type </td>
                <td th:text="*{leaveType}"> </td>
            </tr>
            <tr>
                <td>Number of days of intended leave </td>
                <td th:text="*{numberOfDays}"> </td>
            </tr>
            </tr>
            <tr>
                <td>Reason </td>
                <td th:text="*{reason}"> </td>
            </tr>
            <tr>
                <td>Contact Number (if going overseas)</td>
                <td th:text="*{contactNumber != null ? contactNumber : '-'}"> </td>
            </tr>
            <tr>
                <td>Work Dissemination (if any)</td>
                <td th:text="*{dissemination != null ? dissemination : '-'}"> </td>
            </tr>
            <tr>
                <td>Status</td>
                <td th:text="*{status}" th:classappend = "*{status}"> </td>
            </tr>
            <tr>
                <td>Date of Status</td>
                <td th:text="*{dateOfStatus}"> </td>
            </tr>
            <tr>
                <td>Date of Application</td>
                <td th:text="*{dateOfApplication}"> </td>
            </tr>
            <tr th:if="${leaveApplication.status.name() == 'PENDING'}">
                <td colspan="2"><a th:href="@{/emp/updateleave(id=${leaveApplication.id})}"
                        class="btn btn-primary btn-sm mb-3">Update Leave Application</a></td>
            </tr>
            <tr th:if="${leaveApplication.status.name() == 'PENDING'}">
                <td colspan="2"><a th:href="@{/emp/deleteleave(id=${leaveApplication.id})}"
                        class="btn btn-primary btn-sm mb-3">Delete Leave Application</a>
                    <br>Please note that once delete button is clicked,
                    <br> the leave application is deleted and this action is not reversible.
                </td>
            </tr>
            <tr th:if="${leaveApplication.status.name() == 'APPROVED'}">
                <td colspan="2"><a th:href="@{/emp/deleteleave(id=${leaveApplication.id})}"
                        class="btn btn-primary btn-sm mb-3">Cancel Leave Application</a>
                    <br>Please note that once cancel button is clicked,
                    <br> the leave application is canceled and this action is not reversible.
                </td>
            </tr>
            </tr>
        </table>
        <br>
        <a th:href="@{/emp/viewleave}">RETURN TO PERSONAL LEAVE HISTORY PAGE</a>
        <br>
        <a th:href="@{/emp}">RETURN TO LEAVE OVERVIEW PAGE</a>
        <br>
        <a th:href="@{/welcome}">RETURN TO HOME PAGE</a>
        <br>
        <a th:href="@{/logout}">LOGOUT</a>
        <br>
        <br>
        Now is: <b th:text="${execInfo.now.time}"></b></small> <br /> <small>(c) Leave Management System, NUS
            ISS</small></p>
    </div>
</body>
</div>

</html>